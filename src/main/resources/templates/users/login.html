<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: main-head('Login')"></head>
<body>
<nav th:replace="fragments/navbar :: mainNav"></nav>


<div class="container-md text-center">
    <h1>Log In</h1>
    <div th:if="${param.error}">
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <strong>Warning!</strong> Invalid Username and Password.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
    <div th:if="${param.logout}">
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Signout complete.</strong> You have been logged out.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div class="col-sm-8 col-md-6 p-3">
            <form th:action="@{/login}" method="post">
                <label class="form-label mt-3" for="username">Username</label>
                <input class="form-control mb-3" id="username" name="username" type="text" />

                <label class="form-label mt-3" for="password">Password</label>
                <div class="input-group mb-3">   <input class="form-control" id="password" name="password" type="password" />
                    <span class="input-group-text"><i class="fa fa-eye-slash" id="togglePassword"></i></span></div>
                <button type="submit" class="btn">Log in</button>
            </form>
        </div></div></div>
<footer th:fragment="footer"></footer>

<script>

    const togglePassword = document.getElementById("togglePassword");
    const password = document.getElementById("password");

    togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye slash icon
        this.classList.toggle('fa-eye-slash');
        this.classList.toggle('fa-eye')
    })

</script>

<footer th:replace="fragments/footer :: main-footer"></footer>
</body>
</html>